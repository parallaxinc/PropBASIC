' ----------------------------------------------------------------------
' GLOBAL: Device Settings
' ----------------------------------------------------------------------
DEVICE          P8X32A, XTAL1, PLL16X
XIN             5_000_000

' *********************************************************
'
' This is an example of how to "LOAD" the Code for a Task.
'
' See "TASK Display_DS1302" at the bottom
'
' *********************************************************


' ----------------------------------------------------------------------
' GLOBAL: I/O Pins
' ----------------------------------------------------------------------
RX_PIN      PIN     31 INPUT
TX_PIN      PIN     30 INPUT 

Clock        PIN    16 LOW
DataIO       PIN    17 INPUT
CS1302       PIN    18 LOW


' ----------------------------------------------------------------------
' GLOBAL: Constants
' ----------------------------------------------------------------------
Terminal_Baud   CON   115200

' -- TX_Format Constants & Variables ---------------
HOME     CON   1           
GOTOXY   CON   2
BKSP     CON   8
TAB      CON   9
LF       CON   10
CLREOL   CON   11
CLRDN    CON   12
CR       CON   13
GOTOX    CON   14
GOTOY    CON   15
CLS      CON   16     


CWPr            CON     $8E   ' Write Protect Register
WPr0            CON     $00   ' Clear Write Protect
WrBurst         CON     $BE   ' Write Burst Of DataIO
RdBurst         CON     $BF   ' Read Burst Of Data
WrRam           CON     $C0   ' Write RAM Data 
RdRam           CON     $C1   ' Read RAM Data


' ----------------------------------------------------------------------
' GLOBAL: HUB Variables (Byte, Word, Long) - use RDxxxx and WRxxxx
' ----------------------------------------------------------------------


' ----------------------------------------------------------------------
' GLOBAL: DATA, WDATA, LDATA, FILE - use RDxxxx and WRxxxx
' ----------------------------------------------------------------------


' ----------------------------------------------------------------------
' COG 0: Variables (Long only)
' ----------------------------------------------------------------------


' ----------------------------------------------------------------------
' COG 0: SUB & FUNC Definitions
' ----------------------------------------------------------------------


' ----------------------------------------------------------------------
' TASK Definitions
' ----------------------------------------------------------------------
Display_DS1302    TASK



' ======================================================================
  PROGRAM START 
' ======================================================================

START:

   COGINIT Display_DS1302, 1

END


' ----------------------------------------------------------------------
' COG 0: SUB & FUNC Code
' ----------------------------------------------------------------------



' *******************************************************************************************
TASK Display_DS1302
' *******************************************************************************************

   LOAD "D:\Propeller\Propeller Programs\Templates\Load Libraries & Code\TASK_Display_DS1302_Code.pbas"

ENDTASK
' *******************************************************************************************




