' ----------------------------------------------------------------------
' GLOBAL: Device Settings
' ----------------------------------------------------------------------
DEVICE          P8X32A, XTAL1, PLL16X
XIN             5_000_000

' ----------------------------------------------------------------------
' GLOBAL: I/O Pins
' ----------------------------------------------------------------------
TX_PIN     PIN   30 INPUT
RX_PIN     PIN   31 INPUT

' ----------------------------------------------------------------------
' GLOBAL: Constants
' ----------------------------------------------------------------------
' -- !!! You HAVE TO use Variables for the BAUD Rate/s
Terminal_Baud   CON   115200

' -- "TX_RX_Format_Lib_.pbas" Constants ---------------
HOME        CON   1
CR          CON   13
CLS         CON   16  

' ----------------------------------------------------------------------
' GLOBAL: HUB Variables (Byte, Word, Long) - use RDxxxx and WRxxxx
' ----------------------------------------------------------------------


' ----------------------------------------------------------------------
' GLOBAL: DATA, WDATA, LDATA, FILE - use RDxxxx and WRxxxx
' ----------------------------------------------------------------------


' ----------------------------------------------------------------------
' COG 0: Variables (Long only)
' ----------------------------------------------------------------------
TX_BAUD   VAR   LONG
RX_BAUD   VAR   LONG

' ----------------------------------------------------------------------
' COG 0: SUB & FUNC Definitions
' ----------------------------------------------------------------------
LOAD "D:\Propeller\Propeller Programs\Libraries\DELAYS_LIB.pbas"

' ----------------------------------------------------------------------
' TASK Definitions
' ----------------------------------------------------------------------

Task1    TASK


' ======================================================================
  PROGRAM START
' ======================================================================

START:

   TX_BAUD = Terminal_Baud
   RX_BAUD = Terminal_Baud
   
   DELAY_MS 5000
   TX_BYTE CLS
   
   COGSTART Task1


END


' ----------------------------------------------------------------------
' COG 0: SUB & FUNC Code
' ----------------------------------------------------------------------




' *******************************************************************************************
  TASK Task1
' *******************************************************************************************

' ----------------------------------------------------------------------
' TASK COG: I/O Pins
' ----------------------------------------------------------------------

' ----------------------------------------------------------------------
' TASK COG: Constants
' ----------------------------------------------------------------------

' ----------------------------------------------------------------------
' TASK COG: Variables (Long only)
' ----------------------------------------------------------------------  
TX_BAUD   VAR   LONG
RX_BAUD   VAR   LONG


' ----------------------------------------------------------------------
' TASK COG: SUB & FUNC Definitions
' ----------------------------------------------------------------------
' !!! The LOAD SUB Commands for Libraries MUST BE BEFORE your own SUB and FUNC Declarations
LOAD "D:\Propeller\Propeller Programs\Libraries\DELAYS_LIB_SUBS.pbas"


Subroutine_1    SUB   0

Function_1      FUNC  0


' ----------------------------------------------------------------------
' Main Task Code
' ----------------------------------------------------------------------
MAIN:

   TX_BAUD = Terminal_Baud
   RX_BAUD = Terminal_Baud
   
   DELAY_MS 5000
   TX_BYTE CLS


' ----------------------------------------------------------------------
' TASK COG: SUB & FUNCTION Code
' ----------------------------------------------------------------------

SUB Subroutine_1

   ' Do some stuff

ENDSUB




FUNC Function_1

   ' DO some stuff

   ' RETURN __paramx

ENDFUNC





' !!! The LOAD CODE Commands for Libraries MUST BE AFTER your own SUB and FUNC Declarations, i.e. just before "ENDTASK"
LOAD "D:\Propeller\Propeller Programs\Libraries\DELAYS_LIB_CODE.pbas"
ENDTASK
' *******************************************************************************************
